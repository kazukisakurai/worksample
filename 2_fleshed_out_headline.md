
#Rails入門



##このテキストのゴール

これまでの学習で、HTML、CSS、JabaSclipt、RubyにGit、Githubと学んできました。今はまだそれぞれが点と点であり、どこでどのように役立つのかわかりにくいものもあったかもしれません。その点を線で結ぶものが、今回学んでいく「Ruby on Rail」sという、「フレームワーク」です。

まずこのテキストでは、フレームワークとはなにか、Railsのメリットなどを把握しましょう。



##Railsとは

###フレームワークとはなに？

簡潔にいうと、プログラミングにおいて、システムを作成するときに使用する便利ツールです。

すでにプログラム全体の骨組みができあがっているので、内部要素をある程度編集するだけで、スピーディにサンプルまで作成することができます。

イメージでいうと、ホームページ作成ツールというものがありますね。まず、用意されたいくつかのテンプレートから好みのものを選んで、あとはタイトルをつけたり、ページを足したり、背景画像を貼り付けたりすれば、すぐに簡単な操作でwebページを作ることができる。これを自力でいちから作成すると遥かに時間と手間がかかります。

プログラミングにおけるフレームワークも同様に、雛形が既に形成されている状態から開発をスタートしますので、いちから組み立てていくよりも早いスピードで最初のサンプルを仕上げることができます。


###Ruby on Railsとは

フレームワークにはたくさんの種類があります。

「あらかじめ雛形が用意されている」ということは、それぞれに得意とするジャンルがあり、開発の際は、基本的には目的にあったフレームワークを使用します。

Ruby on Rails（以下、Rails）は、その名の通り、Ruby言語を使用するフレームワークで、主にはwebアプリケーションの作成を得意としています。

その特徴は、「Convention over Configuration（設定より規約）」という概念であり、あらかじめ決められた規約に従うことで、本来開発者自身が行わなければならない細かい設定の手間を省くことができます。

そのおかげで、集団開発の際にも、複雑な設定に混乱することも少なくなります。


###gemとは

gemとは、正式名称をRubyGemsといいます。これは、簡単にいうと、webアプリケーションで使用するツールを管理するためのものです。

たとえば、「画像をアップロードするための仕組み」を作成したいと思ったとき、それをいちから組み立てるのは大変です。ですが、gemを利用すれば、既に作成されている「画像をアップロードするための仕組み」を簡単にシステムに組み込むことができます。

スマホにアプリをインストールしていくようなイメージでしょうか。

フレームワークの基本構造以上に、このgemの存在が、Railsでの開発を高速化していると言えるかもしれません。世界中の開発者が、作成したツールを公開してくれています。





##Railsの大枠を理解する


###まずは基本構造をイメージしよう

さきほども説明したように、フレームワークのメリットは、基本構造ができあがった状態から開発をスタートできることです。ということは、裏を返せば、その基本構造が理解できていないと、開発を進めることができません。

そのため、フレームワークを使用することのデメリットとして、「学習コストがかかること」が挙げられたりします。

しかし、Railsはその登場以前の他既存フレームワークに比べ、シンプルな構造をもっており、先述したメリットを最大限に活かすことができます。

とはいえ、それでも細かな仕組み・役割までいきなり把握するのは大変ですから、まずはその基本構造をイメージできるようになりましょう。


###model・viw・controller

Railsは、MVCフレームワークという形式を採っています。

MVCは、Model・View・Controllerの頭文字です。

MVCフレームワークでは、プログラム全体をこの３つの要素に分類しています。突き詰めていくと複雑ですが、まずは、わかりやすく簡潔に考えてみましょう。

つぶやき投稿サイトのTOPページでいうと、まずModelに該当する要素は、投稿者名やつぶやきの内容です。

Viewに該当するのは、webブラウザに表示されている画面のレイアウト。

Controllerはというと、どこに、どの順番で、どの投稿者のつぶやきを、表示させるかなどを裏で管理しています。指示された内容を拾ってきて、Viewに渡しているんですね。

そういった要素が組み合わさることで、「動的なページ」の表示を可能にしています。

同じように、他のwebアプリケーションでも、どれがどれに該当するかを考えてみましょう。このイメージが、実際に開発しているときに、大いに役立つでしょう。


###ブラウザに表示されるまでの流れ

では、実際にwebアプリケーションを使用しているとき、どういった流れで情報がブラウザに表示されるかについても、説明しておきます。

ブラウザ上で支持されたリクエストをまず最初に受け取るのは、ルーティングという要素です。

ルーティングの細かい説明はここでは省きますが、ルーティングはあらかじめ決められたルールに沿って、まずは指定されたControllerにアクセスします。

ContorollerはModel（データベース）から必要な要素を収集し、Viewに反映させます。

そうしてできあがったViewが、再度、コントローラーを経由してブラウザに返され、表示されるwebページになるわけです。

実際には、Modelが収集した情報のすべてをViewに表示させるわけではありませんし、もっと複雑な処理が組み合わさっているのですが、大雑把なイメージとして覚えておいてください。
