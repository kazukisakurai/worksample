
# Rails入門



## このテキストのゴール

これまでの学習で、HTML、CSS、JabaSclipt、RubyにGit、Githubと学んできました。今はまだそれぞれの知識が点と点であり、どこでどのように役立つのかわかりにくいものもあったかもしれません。その点を線で結ぶものが、今回学んでいく「Ruby on Rails」という、「フレームワーク」です。

まずこのテキストでは、フレームワークとはなんなのか、Railsのメリット、Railsを学習するにあたってあらかじめ知っておきたい予備知識等を把握していきましょう。



## Railsとは

### フレームワークとはなに？

簡潔にいうと、プログラミングにおいて、システムを作成するときに使用する便利ツールです。

イメージでいうと、ホームページ作成ツールというものがありますね。まず、用意されたいくつかのテンプレートから好みのものを選んで、あとはタイトルをつけたり、ページを足したり、背景画像を貼り付けたりすれば、すぐに簡単な操作でwebページを作ることができる。これを自力でいちから作成すると遥かに時間と手間がかかります。

プログラミングにおけるフレームワークも同様に、開発スタート時点で既にシステム全体の骨組みができあがっているので、内部要素をある程度編集するだけで、スピーディにサンプルまで作成することができます。


### Ruby on Railsとは

フレームワークにもたくさんの種類があります。

「あらかじめ雛形が用意されている」ということは、それぞれに得意とするジャンルがあり、開発の際は、基本的には目的にあったフレームワークを使用します。

Ruby on Rails（以下、Rails）は、その名の通り、Ruby言語を使用するフレームワークで、主にはwebアプリケーションの作成を得意としています。

その特徴は、「Convention over Configuration（設定より規約）」という概念であり、あらかじめ決められた規約に従うことで、本来開発者自身が行わなければならない細かい設定の手間を省くことができます。

おかげで、集団開発の際にも、複雑な設定に混乱することが少なくなります。


### gemとは

gemとは、正式名称をRubyGemsといいます。これは、簡単にいうと、webアプリケーションで使用するツールを管理するためのものです。

たとえば、「画像をアップロードするための仕組み」を作成したいと思ったとき、それをいちから組み立てるのは大変です。ですが、gemを利用すれば、既に作成されている「画像をアップロードするための仕組み」を簡単にシステムに組み込むことができます。

スマホにアプリをインストールしていくようなイメージでしょうか。

フレームワークの基本構造以上に、このgemの存在が、Railsでの開発を高速化していると言えるかもしれません。世界中の開発者が、作成したツールを公開してくれています。





## Railsの大枠を理解する


### まずは基本構造をイメージしよう

さきほども説明したように、フレームワークのメリットは、基本構造ができあがった状態から開発をスタートできることです。ということは、裏を返せば、その基本構造が理解できていないと、開発をまともに進めることができません。

そういった事情から、フレームワークを使用することのデメリットとして、「学習コストがかかること」が挙げられたりします。

しかし、Railsはその登場以前の他既存フレームワークに比べ、非常にシンプルな構造をもっており、先述したメリットを最大限に活かすことができます。

とはいえ、それでも細かな仕組み・役割までいきなり把握するのは大変ですから、まずはその基本構造をイメージできるようになりましょう。


### model・viw・controller

Railsは、MVCフレームワークという形式を採っています。

MVCは、Model・View・Controllerの頭文字です。

MVCフレームワークでは、プログラム全体をこの３つの要素に分類しています。なんだか複雑ですが、まずは、わかりやすく簡潔に考えてみましょう。

つぶやき投稿サイトの投稿一覧ページを思い浮かべてください。

表示されているページ上、まずModelに該当する要素は、投稿者名やつぶやきの内容です。新規投稿のためのテキストエリアもModel、いいねボタンもModelです。

Viewに該当するのは、webブラウザに表示されている画面のレイアウト。Viewは、基本的にHTMLで編集しますので、ここで、学んできたHTMLやCSSの技術が活かされます。

Controllerはというと、これは画面上に具体的に表示されているものはありません。どこに、どの順番で、どの投稿者のつぶやきを表示させるか、などを裏で管理しています。指示された内容をModelから拾ってきて、Viewに渡しているんですね。

そういった要素が組み合わさることで、「動的なページ」の表示を可能にしています。

同じように、他のwebアプリケーションでも、どれがどれに該当するかを考えてみましょう。このイメージを明確に持つことが、実際に開発しているときに、大いに役立つでしょう。


### ブラウザに表示されるまでの流れ

では、実際にwebアプリケーションを使用しているとき、どういった流れで情報がブラウザに表示されるかについても、説明しておきます。

ブラウザ上で指示されたリクエストをまず最初に受け取るのは、ルーティングという要素です。

```
ブラウザ → ルーティング
```

ルーティングの細かい説明はここでは省きますが、ルーティングはあらかじめ決められたルールに沿って、まずは指定されたControllerにアクセスします。

```
ブラウザ → ルーティング → Controller
```
ContorollerはModel（データベース）から必要な要素を収集し、Viewに反映させます。

```
　　　　　　　　　　　　　　　Model
                          ↑ ↓  
ブラウザ → ルーティング → Controller → View
```

そうしてできあがったViewが、再度、コントローラーを経由してブラウザに返され、表示されるwebページになるわけです。

```
　　　　　　　　　　　　　　　Model
                          ↑ ↓  
ブラウザ → ルーティング → Controller → View → Controller → ブラウザ
```

実際には、Modelから収集した情報のすべてがViewに表示されるわけではありませんし、もっと複雑な処理が組み合わさっていたりするのですが、全体の流れとして覚えておいてください。

### 命名規則

Railsは、規約を重視する…というのは、先述しましたが、特に学習したての時期に混乱しがちなのが、命名規則についてです。

先頭を大文字にする、複数形で命名する、単数形で命名する、などなど、いろいろあってややこしいのですが、まずはシンプルに覚えておきましょう。

```
「モデルのファイル名とクラス名」だけが単数で、それ以外はすべて複数形。

「クラス名」は、先頭が大文字になります。
```

一部例外もありますが、まずはこれを頭に入れておいてください。

今は、なんのことだかわからないかもしれませんが、命名規則を意識しながら学習することで、クラスやインスタンスといった、Railsの要素への理解が、ぐっと楽になるでしょう。

### クラスとインスタンス

オブジェクト指向言語であるRailsにおいて、クラスとインスタンスの概念を理解することは非常に重要です。

これもまた、今は下記のような簡単なイメージで構いませんので、覚えておきましょう。

``クラス → 乗り物　　　　インスタンス → 自動車,飛行機,船``

``クラス → メニュー表    インスタンス → 食べ物,飲み物,デザート``

``クラス → 動物　　　　  インスタンス → 猿,犬,キジ``

常に、クラスとインスタンスの関係性をイメージすることで、学習中、自分がシステムのどの部分をいじっているのかを見失わずに済みます。
